\section{Luglio 2018}
\subsection{Testo d'esame}

Si consideri il tipo di dato \texttt{ITER = Iter of int * (int -> int);} i cui valori \texttt{Iter(n, f)} rappresentano funzioni che implementano un ciclo for come il seguente:

\begin{cppcode}
int iterloop (int x) {
	for (int i = 0; i < n; i++) {
		x = f(x);
	}
}
\end{cppcode}

Si scriva una funzione \texttt{eval} (avente tipo \texttt{ITER -> (int -> int)}) che riceve come argomento un valore di tipo \texttt{ITER} e ritorna una funzione da interi ad interi che implementa il ciclo indicato qui sopra (applica \texttt{n} volte la funzione \texttt{f} all'argomento).

\medskip
Come esempio, se \texttt{val f = fn x => x + 2}, allora \texttt{eval (Iter(8, f))} ritornerÃ  una funzione che dato un numero \texttt{i = 0} ritorna \texttt{i = 16}:

\begin{smlcode}
> val f = fn x => x + 2;
val f = fn: int -> int

> eval (Iter(8, f));
val it = fn: int -> int

> val g = eval (Iter(8, f));
val g = fn: int -> int

> g 5;
val it = 21: int
\end{smlcode}

\subsubsection{Soluzione}

\begin{listing}{!h}
\smlfile{assets/codes/2018.07/eval.sml}
\caption{Definizione della funzione \texttt{eval}}
\end{listing}

\subsection{Commento della soluzione}

Vedi luglio '17.
